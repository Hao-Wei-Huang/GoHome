(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2120c1ef"],{"81b1":function(t,a,s){"use strict";s.r(a);var i=function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"content"},[s("loading",{attrs:{active:t.isLoading},on:{"update:active":function(a){t.isLoading=a}}}),s("section",{staticClass:"mt-5"},[s("div",{staticClass:"container"},[s("div",{staticClass:"row"},[t._m(0),s("div",{staticClass:"col-9"},[s("div",{staticClass:"product-list"},t._l(t.hotels,(function(a,i){return s("div",{key:a.title,staticClass:"row mb-3 bg-shadow"},[s("div",{staticClass:"col-3 bg-lg-image cursor",style:{backgroundImage:t.setHotelImage(a.imageUrl[0])},on:{click:function(s){return t.goHotel(a)}}}),s("div",{staticClass:"col-9"},[s("div",{staticClass:"d-flex flex-column py-3 text-left"},[s("h5",[t._v(" "+t._s(a.title)+" "),a.options.hotelRating>0?s("font-awesome-icon",{staticClass:"h6 text-warning",attrs:{icon:["fas","star"]}}):t._e(),a.options.hotelRating>1?s("font-awesome-icon",{staticClass:"h6 text-warning",attrs:{icon:["fas","star"]}}):t._e(),a.options.hotelRating>2?s("font-awesome-icon",{staticClass:"h6 text-warning",attrs:{icon:["fas","star"]}}):t._e(),a.options.hotelRating>3?s("font-awesome-icon",{staticClass:"h6 text-warning",attrs:{icon:["fas","star"]}}):t._e(),a.options.hotelRating>4?s("font-awesome-icon",{staticClass:"h6 text-warning",attrs:{icon:["fas","star"]}}):t._e()],1),s("p",{staticClass:"mt-2 flex-grow-1 ellipsis"},[t._v(t._s(a.content))]),s("div",{staticClass:"text-right "},[s("h5",{staticClass:"hotel-origin-price"},[t._v("$"+t._s(t._f("moneyFilter")(a.origin_price)))]),s("h4",{staticClass:"hotel-price text-secondary mb-2"},[t._v("每晚平均房價:$ "+t._s(t._f("moneyFilter")(a.price)))]),s("div",{staticClass:"d-flex align-items-center"},[s("span",{staticClass:"badge badge-secondary mr-auto"},[t._v(t._s(a.category))]),s("a",{staticClass:"btn btn-outline-primary mr-3",attrs:{href:"#"},on:{click:function(a){return a.preventDefault(),t.addHotelToCart(i)}}},[t._v("加入購物車")]),s("a",{staticClass:"btn btn-primary",attrs:{href:"#"},on:{click:function(s){return t.goHotel(a)}}},[t._v("現在預定")])])])])])])})),0)])])])])],1)},o=[function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"col-3"},[s("ul",{staticClass:"list-group"},[s("li",{staticClass:"list-group-item"},[s("a",{attrs:{href:"#"}},[t._v("公寓")])]),s("li",{staticClass:"list-group-item"},[s("a",{attrs:{href:"#"}},[t._v("度假住宿")])]),s("li",{staticClass:"list-group-item"},[s("a",{attrs:{href:"#"}},[t._v("私人別墅")])]),s("li",{staticClass:"list-group-item"},[s("a",{attrs:{href:"#"}},[t._v("山中小屋")])])])])}],e=(s("99af"),s("4160"),s("159b"),{data:function(){return{hotels:[],cart:[],isLoading:!1}},methods:{getAllHotelsData:function(){var t=this,a="".concat("https://course-ec-api.hexschool.io/api/").concat("c62ed506-1fb9-4a50-912d-1c0feaaff93a","/ec/products");this.isLoading=!0,this.$http.get(a).then((function(a){t.hotels=a.data.data,t.isLoading=!1})).catch((function(a){console.log("error:",a),t.isLoading=!1}))},setHotelImage:function(t){return"url(".concat(t,")")},addHotelToCart:function(t){var a,s=this,i=1,o=0;this.cart.forEach((function(e,c){e.product.id===s.hotels[t].id&&(i=e.quantity,i+=1,o=1,a=c)}));var e={product:this.hotels[t].id,quantity:i};if(this.isLoading=!0,o){var c="".concat("https://course-ec-api.hexschool.io/api/").concat("c62ed506-1fb9-4a50-912d-1c0feaaff93a","/ec/shopping");this.$http.patch(c,e).then((function(t){s.$set(s.cart,a,t.data.data),s.isLoading=!1})).catch((function(t){console.log("error:",t),s.isLoading=!1}))}else{var n="".concat("https://course-ec-api.hexschool.io/api/").concat("c62ed506-1fb9-4a50-912d-1c0feaaff93a","/ec/shopping");this.$http.post(n,e).then((function(t){s.cart.push(t.data.data),s.isLoading=!1})).catch((function(t){console.log("error:",t),s.isLoading=!1}))}},getCartData:function(){var t=this,a="".concat("https://course-ec-api.hexschool.io/api/").concat("c62ed506-1fb9-4a50-912d-1c0feaaff93a","/ec/shopping");this.$http.get(a).then((function(a){t.cart=a.data.data})).catch((function(t){console.log("error:",t)}))},goHotel:function(t){this.$router.push("/product/".concat(t.id))}},created:function(){this.getAllHotelsData(),this.getCartData()}}),c=e,n=(s("b60a"),s("2877")),r=Object(n["a"])(c,i,o,!1,null,null,null);a["default"]=r.exports},8418:function(t,a,s){"use strict";var i=s("c04e"),o=s("9bf2"),e=s("5c6c");t.exports=function(t,a,s){var c=i(a);c in t?o.f(t,c,e(0,s)):t[c]=s}},"99af":function(t,a,s){"use strict";var i=s("23e7"),o=s("d039"),e=s("e8b5"),c=s("861d"),n=s("7b0b"),r=s("50c4"),l=s("8418"),f=s("65f0"),h=s("1dde"),u=s("b622"),d=s("2d00"),g=u("isConcatSpreadable"),p=9007199254740991,v="Maximum allowed index exceeded",C=d>=51||!o((function(){var t=[];return t[g]=!1,t.concat()[0]!==t})),m=h("concat"),b=function(t){if(!c(t))return!1;var a=t[g];return void 0!==a?!!a:e(t)},_=!C||!m;i({target:"Array",proto:!0,forced:_},{concat:function(t){var a,s,i,o,e,c=n(this),h=f(c,0),u=0;for(a=-1,i=arguments.length;a<i;a++)if(e=-1===a?c:arguments[a],b(e)){if(o=r(e.length),u+o>p)throw TypeError(v);for(s=0;s<o;s++,u++)s in e&&l(h,u,e[s])}else{if(u>=p)throw TypeError(v);l(h,u++,e)}return h.length=u,h}})},b60a:function(t,a,s){"use strict";var i=s("bdc6"),o=s.n(i);o.a},bdc6:function(t,a,s){}}]);
//# sourceMappingURL=chunk-2120c1ef.febad8f3.js.map