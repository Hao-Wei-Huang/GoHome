(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-342776b1"],{"0323":function(t,e,o){"use strict";function s(t,e,o){return t|e<<5|o<<10}function i(t){var e=31,o=992,s=31744,i={};return i.doubleRoomCount=t&e,i.tripleRoomCount=(t&o)>>5,i.quadrupleRoomCount=(t&s)>>10,i}o.d(e,"b",(function(){return s})),o.d(e,"a",(function(){return i}))},"0fd0":function(t,e,o){"use strict";o.r(e);var s=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"content"},[o("loading",{attrs:{active:t.isLoading},on:{"update:active":function(e){t.isLoading=e}}}),o("div",{staticClass:"container mt-5"},[o("div",{staticClass:"row"},[o("div",{staticClass:"col-4"},[o("iframe",{staticStyle:{border:"0"},attrs:{src:t.hotel.options.address.googleMapUrl,width:"100%",frameborder:"0",allowfullscreen:"","aria-hidden":"false",tabindex:"0"}}),t._m(0)]),o("div",{staticClass:"col-8"},[o("section",[o("h2",{staticClass:"text-left mb-3"},[t._v(" "+t._s(t.hotel.title)+" "),t._l(Number(t.hotel.options.hotelRating),(function(t){return o("font-awesome-icon",{key:t,staticClass:"h6 text-warning",attrs:{icon:["fas","star"]}})})),o("div",{staticClass:"h5 mt-2 text-primary"},[o("font-awesome-icon",{staticClass:"text-secondary mr-1",attrs:{icon:["fas","map-marker-alt"]}}),t._v(t._s(t.hotel.options.address.city)+t._s(t.hotel.options.address.road))],1)],2),o("div",{staticClass:"thumb"},[t.hotel.imageUrl.length>0?o("swiper",{ref:"swiperTop",staticClass:"swiper gallery-top",attrs:{options:t.swiperOptionTop}},t._l(t.hotel.imageUrl,(function(t){return o("swiper-slide",{key:t,style:"background-image:url("+t+")"})})),1):t._e(),t.hotel.imageUrl.length>0?o("swiper",{ref:"swiperThumbs",staticClass:"swiper gallery-thumbs",attrs:{options:t.swiperOptionThumbs}},t._l(t.hotel.imageUrl,(function(t){return o("swiper-slide",{key:t,style:"background-image:url("+t+")"})})),1):t._e()],1)]),o("section",{staticClass:"mt-4"},[o("p",{staticClass:"text-left"},[t._v(" "+t._s(t.hotel.description)+" ")])]),o("section",{staticClass:"mt-5"},[o("h3",{staticClass:"mb-3"},[t._v("飯店設施")]),o("div",{staticClass:"text-left text-primary"},[t.hotel.options.facilities.isBreakfast?o("span",{staticClass:"mr-3",staticStyle:{"white-space":"nowrap"}},[o("font-awesome-icon",{staticClass:"mr-2 text-secondary",attrs:{icon:["fas","utensils"]}}),t._v("提供早餐")],1):t._e(),t.hotel.options.facilities.isWifi?o("span",{staticClass:"mr-3",staticStyle:{"white-space":"nowrap"}},[o("font-awesome-icon",{staticClass:"mr-2 text-secondary",attrs:{icon:["fas","wifi"]}}),t._v("免費無線網路")],1):t._e(),t.hotel.options.facilities.isParking?o("span",{staticClass:"mr-3",staticStyle:{"white-space":"nowrap"}},[o("font-awesome-icon",{staticClass:"mr-2 text-secondary",attrs:{icon:["fas","parking"]}}),t._v("有停車場")],1):t._e(),t.hotel.options.facilities.isSmokeBan?o("span",{staticClass:"mr-3",staticStyle:{"white-space":"nowrap"}},[o("font-awesome-icon",{staticClass:"mr-2 text-secondary",attrs:{icon:["fas","smoking-ban"]}}),t._v("禁止吸菸")],1):t._e(),t.hotel.options.facilities.isPen?o("span",{staticClass:"mr-3",staticStyle:{"white-space":"nowrap"}},[o("font-awesome-icon",{staticClass:"mr-2 text-secondary",attrs:{icon:["fas","dog"]}}),t._v("寵物可入住")],1):t._e()])]),o("section",{staticClass:"mt-5"},[o("h3",{staticClass:"mb-3"},[t._v("空房資訊")]),o("table",{staticClass:"table"},[t._m(1),o("tbody",[o("tr",[o("th",{attrs:{scope:"row"}},[t._v("奢華雙人房")]),o("td",{staticClass:"text-left"},t._l(2,(function(t){return o("font-awesome-icon",{key:t,staticClass:"text-primary",attrs:{icon:["fas","user"]}})})),1),o("td",{staticClass:"text-right h5"},[o("div",{staticClass:"h6 text-line-through text-danger"},[t._v("$"+t._s(t._f("moneyFilter")(t.hotel.origin_price)))]),t._v("$"+t._s(t._f("moneyFilter")(t.hotel.price)))]),o("td",[o("div",{staticClass:"input-group align-items-center justify-content-center"},[o("div",{staticClass:"input-group-prepend ml-2"},[o("button",{staticClass:"btn btn-outline-primary",attrs:{disabled:t.doubleRoomCount<=0},on:{click:function(e){t.doubleRoomCount-=1}}},[t._v("-")])]),o("input",{directives:[{name:"model",rawName:"v-model",value:t.doubleRoomCount,expression:"doubleRoomCount"}],staticClass:"form-control text-center hotel-room-count",attrs:{type:"text",readonly:""},domProps:{value:t.doubleRoomCount},on:{input:function(e){e.target.composing||(t.doubleRoomCount=e.target.value)}}}),o("div",{staticClass:"input-group-append mr-2"},[o("button",{staticClass:"btn btn-outline-primary",on:{click:function(e){t.doubleRoomCount+=1}}},[t._v("+")])])])])]),o("tr",[o("th",{attrs:{scope:"row"}},[t._v("頂級三人房")]),o("td",{staticClass:"text-left"},t._l(3,(function(t){return o("font-awesome-icon",{key:t,staticClass:"text-primary",attrs:{icon:["fas","user"]}})})),1),o("td",{staticClass:"text-right h5"},[o("div",{staticClass:"h6 text-line-through text-danger"},[t._v("$"+t._s(t._f("moneyFilter")(t.hotel.options.roomPrice.tripleRoomOriginPrice)))]),t._v("$"+t._s(t._f("moneyFilter")(t.hotel.options.roomPrice.tripleRoomPrice)))]),o("td",[o("div",{staticClass:"input-group align-items-center justify-content-center"},[o("div",{staticClass:"input-group-prepend ml-2"},[o("button",{staticClass:"btn btn-outline-primary",attrs:{disabled:t.tripleRoomCount<=0},on:{click:function(e){t.tripleRoomCount-=1}}},[t._v("-")])]),o("input",{directives:[{name:"model",rawName:"v-model",value:t.tripleRoomCount,expression:"tripleRoomCount"}],staticClass:"form-control text-center hotel-room-count",attrs:{type:"text",readonly:""},domProps:{value:t.tripleRoomCount},on:{input:function(e){e.target.composing||(t.tripleRoomCount=e.target.value)}}}),o("div",{staticClass:"input-group-append mr-2"},[o("button",{staticClass:"btn btn-outline-primary",on:{click:function(e){t.tripleRoomCount+=1}}},[t._v("+")])])])])]),o("tr",[o("th",{attrs:{scope:"row"}},[t._v("豪華四人房")]),o("td",{staticClass:"text-left"},t._l(4,(function(t){return o("font-awesome-icon",{key:t,staticClass:"text-primary",attrs:{icon:["fas","user"]}})})),1),o("td",{staticClass:"text-right h5"},[o("div",{staticClass:"h6 text-line-through text-danger"},[t._v("$"+t._s(t._f("moneyFilter")(t.hotel.options.roomPrice.quadrupleRoomOriginPrice)))]),t._v("$"+t._s(t._f("moneyFilter")(t.hotel.options.roomPrice.quadrupleRoomPrice)))]),o("td",[o("div",{staticClass:"input-group align-items-center justify-content-center"},[o("div",{staticClass:"input-group-prepend ml-2"},[o("button",{staticClass:"btn btn-outline-primary",attrs:{disabled:t.quadrupleRoomCount<=0},on:{click:function(e){t.quadrupleRoomCount-=1}}},[t._v("-")])]),o("input",{directives:[{name:"model",rawName:"v-model",value:t.quadrupleRoomCount,expression:"quadrupleRoomCount"}],staticClass:"form-control text-center hotel-room-count",attrs:{type:"text",readonly:""},domProps:{value:t.quadrupleRoomCount},on:{input:function(e){e.target.composing||(t.quadrupleRoomCount=e.target.value)}}}),o("div",{staticClass:"input-group-append mr-2"},[o("button",{staticClass:"btn btn-outline-primary",on:{click:function(e){t.quadrupleRoomCount+=1}}},[t._v("+")])])])])])])]),o("div",{staticClass:"text-right"},[o("a",{staticClass:"btn btn-outline-primary mr-3",attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.addHotelToCart()}}},[t._v("加入購物車")]),o("a",{staticClass:"btn btn-primary",attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.checkout(e)}}},[t._v("現在預定")])])])])])])],1)},i=[function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("section",{staticClass:"text-left mt-5"},[o("h3",[t._v("住客評論")])])},function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("thead",[o("tr",{staticClass:"bg-primary text-white"},[o("th",{attrs:{scope:"col"}},[t._v("房型")]),o("th",{attrs:{scope:"col"}},[t._v("人數")]),o("th",{attrs:{scope:"col"}},[t._v("價格")]),o("th",{attrs:{scope:"col"}},[t._v("房間數量")])])])}],a=(o("99af"),o("4160"),o("159b"),o("0323")),n={name:"carrousel",data:function(){return{hotelID:"",hotel:{imageUrl:[],options:{hotelRating:"",roomPrice:{},facilities:{},address:{}}},cart:[],isLoading:!1,doubleRoomCount:0,tripleRoomCount:0,quadrupleRoomCount:0,swiperOptionTop:{loop:!0,loopAdditionalSlides:30,slidesPerView:1,spaceBetween:10},swiperOptionThumbs:{loop:!0,loopAdditionalSlides:30,spaceBetween:10,centeredSlides:!0,slidesPerView:6,touchRatio:.2,slideToClickedSlide:!0,grabCursor:!0}}},methods:{getHotelID:function(){this.hotelID=this.$route.params.id},getHotelData:function(){var t=this,e="".concat("https://course-ec-api.hexschool.io/api/").concat("c62ed506-1fb9-4a50-912d-1c0feaaff93a","/ec/product/").concat(this.hotelID);this.isLoading=!0,this.$http.get(e).then((function(e){t.hotel=e.data.data,t.$nextTick((function(){var e=t.$refs.swiperTop.$swiper,o=t.$refs.swiperThumbs.$swiper;e.controller.control=o,o.controller.control=e})),t.isLoading=!1})).catch((function(e){console.log("error:",e),t.isLoading=!1}))},getCartData:function(){var t=this,e="".concat("https://course-ec-api.hexschool.io/api/").concat("c62ed506-1fb9-4a50-912d-1c0feaaff93a","/ec/shopping");this.$http.get(e).then((function(e){t.cart=e.data.data})).catch((function(t){console.log("error:",t)}))},addHotelToCart:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],o=0,s=!1;if(0===(this.doubleRoomCount|this.tripleRoomCount|this.quadrupleRoomCount))return e&&this.cart.length?this.$router.push("/cart"):this.$bus.$emit("pushmessage","warning","請選擇房型"),"";if(this.cart.forEach((function(o,i){o.product.id===t.hotelID&&(e||t.$bus.$emit("pushmessage","warning","該旅館已經加入購物車囉"),s=!0)})),s)return e&&this.$router.push("/cart"),"";o=Object(a["b"])(this.doubleRoomCount,this.tripleRoomCount,this.quadrupleRoomCount);var i={product:this.hotelID,quantity:o};this.isLoading=!0;var n="".concat("https://course-ec-api.hexschool.io/api/").concat("c62ed506-1fb9-4a50-912d-1c0feaaff93a","/ec/shopping");this.$http.post(n,i).then((function(o){e?t.$router.push("/cart"):t.$bus.$emit("pushmessage","success","該旅館已經成功加入購物車"),t.getCartData(),t.isLoading=!1})).catch((function(e){console.log("error:",e),t.isLoading=!1}))},checkout:function(){this.addHotelToCart(!0)}},created:function(){this.getHotelID(),this.getHotelData(),this.getCartData()}},r=n,c=(o("5a74"),o("2877")),l=Object(c["a"])(r,s,i,!1,null,null,null);e["default"]=l.exports},"5a74":function(t,e,o){"use strict";var s=o("7f16"),i=o.n(s);i.a},"7f16":function(t,e,o){},"99af":function(t,e,o){"use strict";var s=o("23e7"),i=o("d039"),a=o("e8b5"),n=o("861d"),r=o("7b0b"),c=o("50c4"),l=o("8418"),u=o("65f0"),p=o("1dde"),d=o("b622"),m=o("2d00"),h=d("isConcatSpreadable"),f=9007199254740991,C="Maximum allowed index exceeded",g=m>=51||!i((function(){var t=[];return t[h]=!1,t.concat()[0]!==t})),v=p("concat"),b=function(t){if(!n(t))return!1;var e=t[h];return void 0!==e?!!e:a(t)},_=!g||!v;s({target:"Array",proto:!0,forced:_},{concat:function(t){var e,o,s,i,a,n=r(this),p=u(n,0),d=0;for(e=-1,s=arguments.length;e<s;e++)if(a=-1===e?n:arguments[e],b(a)){if(i=c(a.length),d+i>f)throw TypeError(C);for(o=0;o<i;o++,d++)o in a&&l(p,d,a[o])}else{if(d>=f)throw TypeError(C);l(p,d++,a)}return p.length=d,p}})}}]);
//# sourceMappingURL=chunk-342776b1.0fac3912.js.map