(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-46f70ffd"],{"159b":function(t,a,i){var s=i("da84"),e=i("fdbc"),o=i("17c2"),c=i("9112");for(var n in e){var r=s[n],l=r&&r.prototype;if(l&&l.forEach!==o)try{c(l,"forEach",o)}catch(f){l.forEach=o}}},"17c2":function(t,a,i){"use strict";var s=i("b727").forEach,e=i("a640"),o=i("ae40"),c=e("forEach"),n=o("forEach");t.exports=c&&n?[].forEach:function(t){return s(this,t,arguments.length>1?arguments[1]:void 0)}},4160:function(t,a,i){"use strict";var s=i("23e7"),e=i("17c2");s({target:"Array",proto:!0,forced:[].forEach!=e},{forEach:e})},"81b1":function(t,a,i){"use strict";i.r(a);var s=function(){var t=this,a=t.$createElement,i=t._self._c||a;return i("div",{staticClass:"content"},[i("loading",{attrs:{active:t.isLoading},on:{"update:active":function(a){t.isLoading=a}}}),i("section",{staticClass:"mt-5"},[i("div",{staticClass:"container"},[i("div",{staticClass:"row"},[t._m(0),i("div",{staticClass:"col-9"},[i("div",{staticClass:"product-list"},t._l(t.hotels,(function(a,s){return i("div",{key:a.title,staticClass:"row mb-3 bg-shadow"},[i("div",{staticClass:"col-3 bg-lg-image cursor",style:{backgroundImage:t.setHotelImage(a.imageUrl[0])},on:{click:function(i){return t.goHotel(a)}}}),i("div",{staticClass:"col-9"},[i("div",{staticClass:"d-flex flex-column py-3 text-left"},[i("h5",[t._v(" "+t._s(a.title)+" "),a.options.hotelRating>0?i("font-awesome-icon",{staticClass:"h6 text-warning",attrs:{icon:["fas","star"]}}):t._e(),a.options.hotelRating>1?i("font-awesome-icon",{staticClass:"h6 text-warning",attrs:{icon:["fas","star"]}}):t._e(),a.options.hotelRating>2?i("font-awesome-icon",{staticClass:"h6 text-warning",attrs:{icon:["fas","star"]}}):t._e(),a.options.hotelRating>3?i("font-awesome-icon",{staticClass:"h6 text-warning",attrs:{icon:["fas","star"]}}):t._e(),a.options.hotelRating>4?i("font-awesome-icon",{staticClass:"h6 text-warning",attrs:{icon:["fas","star"]}}):t._e()],1),i("p",{staticClass:"mt-2 flex-grow-1 ellipsis"},[t._v(t._s(a.content))]),i("div",{staticClass:"text-right "},[i("h5",{staticClass:"hotel-origin-price"},[t._v("$"+t._s(t._f("moneyFilter")(a.origin_price)))]),i("h4",{staticClass:"hotel-price text-secondary mb-2"},[t._v("每晚平均房價:$ "+t._s(t._f("moneyFilter")(a.price)))]),i("div",{staticClass:"d-flex align-items-center"},[i("span",{staticClass:"badge badge-secondary mr-auto"},[t._v(t._s(a.category))]),i("a",{staticClass:"btn btn-outline-primary mr-3",attrs:{href:"#"},on:{click:function(a){return a.preventDefault(),t.addHotelToCart(s)}}},[t._v("加入購物車")]),i("a",{staticClass:"btn btn-primary",attrs:{href:"#"},on:{click:function(i){return t.goHotel(a)}}},[t._v("現在預定")])])])])])])})),0)])])])])],1)},e=[function(){var t=this,a=t.$createElement,i=t._self._c||a;return i("div",{staticClass:"col-3"},[i("ul",{staticClass:"list-group"},[i("li",{staticClass:"list-group-item"},[i("a",{attrs:{href:"#"}},[t._v("公寓")])]),i("li",{staticClass:"list-group-item"},[i("a",{attrs:{href:"#"}},[t._v("度假住宿")])]),i("li",{staticClass:"list-group-item"},[i("a",{attrs:{href:"#"}},[t._v("私人別墅")])]),i("li",{staticClass:"list-group-item"},[i("a",{attrs:{href:"#"}},[t._v("山中小屋")])])])])}],o=(i("99af"),i("4160"),i("159b"),{data:function(){return{hotels:[],cart:[],isLoading:!1}},methods:{getAllHotelsData:function(){var t=this,a="".concat("https://course-ec-api.hexschool.io/api/").concat("c62ed506-1fb9-4a50-912d-1c0feaaff93a","/ec/products");this.isLoading=!0,this.$http.get(a).then((function(a){t.hotels=a.data.data,t.isLoading=!1})).catch((function(a){console.log("error:",a),t.isLoading=!1}))},setHotelImage:function(t){return"url(".concat(t,")")},addHotelToCart:function(t){var a,i=this,s=1,e=0;this.cart.forEach((function(o,c){o.product.id===i.hotels[t].id&&(s=o.quantity,s+=1,e=1,a=c)}));var o={product:this.hotels[t].id,quantity:s};if(this.isLoading=!0,e){var c="".concat("https://course-ec-api.hexschool.io/api/").concat("c62ed506-1fb9-4a50-912d-1c0feaaff93a","/ec/shopping");this.$http.patch(c,o).then((function(t){i.$set(i.cart,a,t.data.data),i.isLoading=!1})).catch((function(t){console.log("error:",t),i.isLoading=!1}))}else{var n="".concat("https://course-ec-api.hexschool.io/api/").concat("c62ed506-1fb9-4a50-912d-1c0feaaff93a","/ec/shopping");this.$http.post(n,o).then((function(t){i.cart.push(t.data.data),i.isLoading=!1})).catch((function(t){console.log("error:",t),i.isLoading=!1}))}},getCartData:function(){var t=this,a="".concat("https://course-ec-api.hexschool.io/api/").concat("c62ed506-1fb9-4a50-912d-1c0feaaff93a","/ec/shopping");this.$http.get(a).then((function(a){t.cart=a.data.data})).catch((function(t){console.log("error:",t)}))},goHotel:function(t){this.$router.push("/product/".concat(t.id))}},created:function(){this.getAllHotelsData(),this.getCartData()}}),c=o,n=(i("b60a"),i("2877")),r=Object(n["a"])(c,s,e,!1,null,null,null);a["default"]=r.exports},8418:function(t,a,i){"use strict";var s=i("c04e"),e=i("9bf2"),o=i("5c6c");t.exports=function(t,a,i){var c=s(a);c in t?e.f(t,c,o(0,i)):t[c]=i}},"99af":function(t,a,i){"use strict";var s=i("23e7"),e=i("d039"),o=i("e8b5"),c=i("861d"),n=i("7b0b"),r=i("50c4"),l=i("8418"),f=i("65f0"),u=i("1dde"),h=i("b622"),d=i("2d00"),g=h("isConcatSpreadable"),p=9007199254740991,v="Maximum allowed index exceeded",C=d>=51||!e((function(){var t=[];return t[g]=!1,t.concat()[0]!==t})),m=u("concat"),L=function(t){if(!c(t))return!1;var a=t[g];return void 0!==a?!!a:o(t)},b=!C||!m;s({target:"Array",proto:!0,forced:b},{concat:function(t){var a,i,s,e,o,c=n(this),u=f(c,0),h=0;for(a=-1,s=arguments.length;a<s;a++)if(o=-1===a?c:arguments[a],L(o)){if(e=r(o.length),h+e>p)throw TypeError(v);for(i=0;i<e;i++,h++)i in o&&l(u,h,o[i])}else{if(h>=p)throw TypeError(v);l(u,h++,o)}return u.length=h,u}})},b60a:function(t,a,i){"use strict";var s=i("bdc6"),e=i.n(s);e.a},bdc6:function(t,a,i){},fdbc:function(t,a){t.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}}}]);
//# sourceMappingURL=chunk-46f70ffd.fc4058cf.js.map