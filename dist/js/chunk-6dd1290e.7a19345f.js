(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6dd1290e"],{"0323":function(t,e,s){"use strict";function r(t,e,s){return t|e<<5|s<<10}function a(t){var e=31,s=992,r=31744,a={};return a.doubleRoomCount=t&e,a.tripleRoomCount=(t&s)>>5,a.quadrupleRoomCount=(t&r)>>10,a.total=a.doubleRoomCount+a.tripleRoomCount+a.quadrupleRoomCount,a}s.d(e,"b",(function(){return r})),s.d(e,"a",(function(){return a}))},"7e8a":function(t,e,s){"use strict";s.r(e);var r=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"content"},[s("div",{staticClass:"container"},[t._m(0),s("div",{staticClass:"row flex-column align-items-center"},[s("div",{staticClass:"col-lg-6 col-md-8 text-left"},[s("section",{staticClass:"bg-shadow p-3"},[s("h3",{staticClass:"mb-3"},[t._v("旅館訂單資訊")]),s("table",{staticClass:"w-100 h5"},[s("tbody",[s("tr",{staticClass:"border-top border-muted"},[s("th",{staticClass:"py-3",staticStyle:{width:"180px"}},[t._v("訂單編號")]),s("td",{staticStyle:{"word-break":"break-all"}},[t._v(t._s(t.order.id))])]),s("tr",{staticClass:"border-top border-muted"},[s("th",{staticClass:"py-3"},[t._v("訂單成立時間")]),s("td",[t._v(t._s(t.order.created.datetime))])]),s("tr",{staticClass:"border-top border-muted"},[s("th",{staticClass:"py-3"},[t._v("付款狀態")]),s("td",[t.order.paid?s("span",{staticClass:"text-success"},[s("font-awesome-icon",{staticClass:"text-success mr-2",attrs:{icon:["fas","check-circle"]}}),t._v("已付款")],1):s("span",{staticClass:"text-muted"},[t._v("未付款")])])]),s("tr",{staticClass:"border-top border-muted"},[s("th",{staticClass:"py-3"},[t._v("旅館項目")]),s("td",t._l(t.order.products,(function(e){return s("div",{key:e.product.title},[t._v(" "+t._s(e.product.title)+" : "+t._s(t.computedRoomCount(e.quantity))+t._s(e.product.unit)+" ")])})),0)]),s("tr",[s("th",{staticClass:"py-3"},[t._v("總計:")]),s("td",{staticClass:"text-right h4"},[t._v("TWD "),s("span",{staticClass:"text-success"},[t._v(t._s(t._f("moneyFilter")(t.amount)))])])])])]),t.isCheckout?s("router-link",{staticClass:"btn btn-success w-100 mt-3",attrs:{to:"/products"}},[t._v("繼續逛逛")]):s("button",{staticClass:"btn btn-danger w-100 mt-3",attrs:{type:"button"},on:{click:t.checkout}},[t._v("前往前帳")])],1)]),s("div",{staticClass:"col-lg-6 col-md-8 text-left mt-5"},[s("section",{staticClass:"p-3"},[s("h3",{staticClass:"mb-3"},[t._v("顧客資訊")]),s("table",{staticClass:"w-100 h5"},[s("tbody",[s("tr",{staticClass:"border-top border-muted"},[s("th",{staticClass:"py-3",staticStyle:{width:"180px"}},[t._v("姓名")]),s("td",{staticStyle:{"word-break":"break-all"}},[t._v(t._s(t.order.user.name))])]),s("tr",{staticClass:"border-top border-muted"},[s("th",{staticClass:"py-3"},[t._v("信箱帳號")]),s("td",[t._v(t._s(t.order.user.email))])]),s("tr",{staticClass:"border-top border-muted"},[s("th",{staticClass:"py-3"},[t._v("電話")]),s("td",[t._v(t._s(t.order.user.tel))])]),s("tr",{staticClass:"border-top border-muted"},[s("th",{staticClass:"py-3"},[t._v("付款方式")]),s("td",[t._v(t._s(t.order.payment))])]),s("tr",{staticClass:"border-top border-muted"},[s("th",{staticClass:"py-3"},[t._v("留言")]),s("td",[t._v(t._s(t.order.message))])])])])])])])])])},a=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"row text-md-center text-left my-5"},[s("div",{staticClass:"col-md-4"},[s("div",{staticClass:"alert alert-dark alert-rounded",attrs:{role:"alert"}},[s("span",{staticClass:"circle mr-2 text-center"},[t._v("1")]),t._v("選擇旅館 ")])]),s("div",{staticClass:"col-md-4"},[s("div",{staticClass:"alert alert-success alert-rounded order-comfirmation",attrs:{role:"alert"}},[s("span",{staticClass:"circle mr-2 text-center"},[t._v("2")]),t._v("確認訂單並付款 ")])]),s("div",{staticClass:"col-md-4"},[s("div",{staticClass:"alert alert-muted alert-rounded finished-reservation",attrs:{role:"alert"}},[s("span",{staticClass:"circle mr-2 text-center"},[t._v("3")]),t._v("完成訂房 ")])])])}],o=(s("99af"),s("0323")),c={data:function(){return{order:{user:{},created:{}},orderId:"",amount:"",isCheckout:!1}},methods:{getOrderId:function(){this.orderId=this.$route.params.orderId,this.amount=this.$route.params.amount},getOrder:function(){var t=this,e="".concat("https://course-ec-api.hexschool.io/api/").concat("c62ed506-1fb9-4a50-912d-1c0feaaff93a","/ec/orders/").concat(this.orderId);this.$http.get(e).then((function(e){t.order=e.data.data})).catch((function(e){t.$bus.$emit("pushmessage","warning","連線錯誤 : ".concat(e))}))},computedRoomCount:function(t){var e=Object(o["a"])(t);return e.doubleRoomCount+e.tripleRoomCount+e.quadrupleRoomCount},checkout:function(){var t=this,e="".concat("https://course-ec-api.hexschool.io/api/").concat("c62ed506-1fb9-4a50-912d-1c0feaaff93a","/ec/orders/").concat(this.orderId,"/paying");this.$http.post(e).then((function(e){t.getOrder(),t.isCheckout=!0,document.querySelector(".order-comfirmation").classList.remove("alert-success"),document.querySelector(".order-comfirmation").classList.add("alert-dark"),document.querySelector(".finished-reservation").classList.remove("alert-muted"),document.querySelector(".finished-reservation").classList.add("alert-success"),t.$bus.$emit("updateCart")})).catch((function(e){t.$bus.$emit("pushmessage","warning","連線錯誤 : ".concat(e))}))}},created:function(){this.getOrderId(),this.getOrder()}},i=c,d=s("2877"),n=Object(d["a"])(i,r,a,!1,null,null,null);e["default"]=n.exports},"99af":function(t,e,s){"use strict";var r=s("23e7"),a=s("d039"),o=s("e8b5"),c=s("861d"),i=s("7b0b"),d=s("50c4"),n=s("8418"),l=s("65f0"),u=s("1dde"),m=s("b622"),p=s("2d00"),h=m("isConcatSpreadable"),C=9007199254740991,v="Maximum allowed index exceeded",f=p>=51||!a((function(){var t=[];return t[h]=!1,t.concat()[0]!==t})),b=u("concat"),_=function(t){if(!c(t))return!1;var e=t[h];return void 0!==e?!!e:o(t)},y=!f||!b;r({target:"Array",proto:!0,forced:y},{concat:function(t){var e,s,r,a,o,c=i(this),u=l(c,0),m=0;for(e=-1,r=arguments.length;e<r;e++)if(o=-1===e?c:arguments[e],_(o)){if(a=d(o.length),m+a>C)throw TypeError(v);for(s=0;s<a;s++,m++)s in o&&n(u,m,o[s])}else{if(m>=C)throw TypeError(v);n(u,m++,o)}return u.length=m,u}})}}]);
//# sourceMappingURL=chunk-6dd1290e.7a19345f.js.map