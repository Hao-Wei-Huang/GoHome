(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-962624dc"],{1799:function(t,e,i){"use strict";var o=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("nav",{attrs:{"aria-label":"Page navigation example"}},[i("ul",{staticClass:"pagination"},[i("li",{staticClass:"page-item",class:{disabled:1===t.pages.current_page}},[i("a",{staticClass:"page-link",attrs:{href:"#","aria-label":"Previous"},on:{click:function(e){return e.preventDefault(),t.switchPage(t.pages.current_page-1)}}},[i("span",{attrs:{"aria-hidden":"true"}},[t._v("«")])])]),t._l(t.pages.total_pages,(function(e){return i("li",{key:e,staticClass:"page-item",class:{active:e===t.pages.current_page}},[i("a",{staticClass:"page-link",attrs:{href:"#"},on:{click:function(i){return i.preventDefault(),t.switchPage(e)}}},[t._v(t._s(e))])])})),i("li",{staticClass:"page-item",class:{disabled:t.pages.current_page===t.pages.total_pages}},[i("a",{staticClass:"page-link",attrs:{href:"#","aria-label":"Next"},on:{click:function(e){return e.preventDefault(),t.switchPage(t.pages.current_page+1)}}},[i("span",{attrs:{"aria-hidden":"true"}},[t._v("»")])])])],2)])])},a=[],s={data:function(){return{}},props:["pages"],methods:{switchPage:function(t){this.$emit("switchedpage",t)}}},l=s,r=i("2877"),d=Object(r["a"])(l,o,a,!1,null,null,null);e["a"]=d.exports},"61bc":function(t,e,i){"use strict";i.r(e);var o=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"content mt-3"},[i("div",{staticClass:"container"},[i("div",{staticClass:"text-right"},[i("button",{staticClass:"btn btn-primary",on:{click:t.createHotelData}},[i("font-awesome-icon",{staticClass:"mr-1",attrs:{icon:["fas","plus"]}}),t._v("新增產品")],1)]),i("table",{staticClass:"table mt-4 hotel-table"},[t._m(0),i("tbody",t._l(t.hotels,(function(e,o){return i("tr",{key:e.title},[i("th",{attrs:{scope:"row"}},[t._v(t._s(e.category))]),i("td",[t._v(t._s(e.title))]),i("td",{staticClass:"text-right"},[t._v(t._s(e.origin_price))]),i("td",{staticClass:"text-right"},[t._v(t._s(e.price))]),i("td",{staticClass:"text-right"},[t._v(" "+t._s(e.options.availableRoomCount)+" ")]),e.enabled?i("td",{key:e.title,staticClass:"text-center",staticStyle:{"font-size":"1.3rem"}},[i("font-awesome-icon",{staticClass:"text-success",attrs:{icon:["fas","check"]}})],1):i("td",{staticClass:"text-center",staticStyle:{"font-size":"1.3rem"}},[i("font-awesome-icon",{staticClass:"text-danger",attrs:{icon:["fas","times"]}})],1),i("td",{staticClass:"text-left"},t._l(Number(e.options.hotelRating),(function(t){return i("font-awesome-icon",{key:t,staticClass:"h6 text-warning",attrs:{icon:["fas","star"]}})})),1),i("td",[i("button",{staticClass:"btn btn-outline-success",attrs:{type:"button"},on:{click:function(e){return t.editHotelData(o)}}},[i("font-awesome-icon",{attrs:{icon:["fas","edit"]}})],1),i("button",{staticClass:"btn btn-outline-danger",attrs:{type:"button"},on:{click:function(e){return t.removeHotelData(o)}}},[i("font-awesome-icon",{attrs:{icon:["fas","trash"]}})],1)])])})),0)]),i("pagination",{attrs:{pages:t.pagination},on:{switchedpage:t.getHotelData}})],1),i("backend-modal",{on:{comfirmmodifiedhotel:t.comfirmModifiedHotel}})],1)},a=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("thead",{staticClass:"bg-primary text-white"},[i("tr",[i("th",{staticStyle:{width:"100px"},attrs:{scope:"col"}},[t._v("分類")]),i("th",{attrs:{scope:"col"}},[t._v("產品名稱")]),i("th",{staticStyle:{width:"120px"},attrs:{scope:"col"}},[t._v("原價")]),i("th",{staticStyle:{width:"120px"},attrs:{scope:"col"}},[t._v("售價")]),i("th",{staticStyle:{width:"100px"},attrs:{scope:"col"}},[t._v("空房數")]),i("th",{attrs:{scope:"col",width:"100px"}},[t._v("是否啟用")]),i("th",{attrs:{scope:"col",width:"150px"}},[t._v("評價")]),i("th",{staticStyle:{width:"130px"},attrs:{scope:"col"}},[t._v("編輯")])])])}],s=(i("99af"),i("1799")),l=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",{staticClass:"modal fade text-left",attrs:{id:"modifiedHotelModal",tabindex:"-1",role:"dialog","aria-labelledby":"modifiedHotelModal","aria-hidden":"true"}},[i("div",{staticClass:"modal-dialog modal-lg"},[i("div",{staticClass:"modal-content"},[i("div",{staticClass:"modal-header bg-info text-white"},[i("h5",{staticClass:"modal-title",attrs:{id:"exampleModalLabel"}},[t._v(t._s(t.modalTitle))]),t._m(0)]),i("div",{staticClass:"modal-body"},[i("div",{staticClass:"container-fluid"},[i("validation-observer",{scopedSlots:t._u([{key:"default",fn:function(e){var o=e.invalid;return[i("form",[i("div",{staticClass:"form-row"},[i("div",{staticClass:"col-5"},[i("div",{staticClass:"form-group"},[i("validation-provider",{scopedSlots:t._u([{key:"default",fn:function(e){var o=e.errors,a=e.classes;return[i("label",{attrs:{for:"modifiedHotelModalImgUrl"}},[t._v("輸入圖片網址")]),i("div",{staticClass:"input-group"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.imageUrl,expression:"imageUrl"}],staticClass:"form-control",class:"{"+a+":modifiedHotel.imageUrl.length < 1}",attrs:{type:"text",id:"modifiedHotelModalImgUrl",name:"圖片網址"},domProps:{value:t.imageUrl},on:{input:function(e){e.target.composing||(t.imageUrl=e.target.value)}}}),i("div",{staticClass:"input-group-append"},[i("button",{staticClass:"btn btn-success",attrs:{type:"button",disabled:""===t.imageUrl},on:{click:t.updateImage}},[t._v("確認")]),i("button",{staticClass:"btn btn-outline-danger rounded-right",attrs:{type:"button",disabled:""==t.imageUrl},on:{click:t.removeImage}},[t._v("刪除")])]),t.modifiedHotel.imageUrl.length<1?i("span",{staticClass:"invalid-feedback"},[t._v(t._s(o[0]))]):t._e()])]}}],null,!0)})],1),t._l(t.modifiedHotel.imageUrl,(function(e){return i("a",{key:e,attrs:{href:"#"},on:{click:function(i){return i.preventDefault(),t.showImage(e)}}},[i("img",{staticClass:"w-25 m-2",attrs:{src:e,alt:"飯店圖片"}})])}))],2),i("div",{staticClass:"col-7"},[i("div",{staticClass:"row"},[i("div",{staticClass:"col-6"},[i("div",{staticClass:"form-group"},[i("validation-provider",{attrs:{rules:"required"},scopedSlots:t._u([{key:"default",fn:function(e){var o=e.errors,a=e.classes;return[i("label",{attrs:{for:"modifiedHotelModalHotelName"}},[t._v("飯店名稱")]),i("input",{directives:[{name:"model",rawName:"v-model",value:t.modifiedHotel.title,expression:"modifiedHotel.title"}],staticClass:"form-control",class:a,attrs:{type:"text",id:"modifiedHotelModalHotelName",name:"飯店名稱"},domProps:{value:t.modifiedHotel.title},on:{input:function(e){e.target.composing||t.$set(t.modifiedHotel,"title",e.target.value)}}}),i("span",{staticClass:"invalid-feedback"},[t._v(t._s(o[0]))])]}}],null,!0)})],1)]),i("div",{staticClass:"col-6"},[i("div",{staticClass:"form-group form-check"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.modifiedHotel.enabled,expression:"modifiedHotel.enabled"}],staticClass:"form-check-input",attrs:{type:"checkbox",id:"modifiedHotelModalIsLaunch",name:"啟用"},domProps:{checked:Array.isArray(t.modifiedHotel.enabled)?t._i(t.modifiedHotel.enabled,null)>-1:t.modifiedHotel.enabled},on:{change:function(e){var i=t.modifiedHotel.enabled,o=e.target,a=!!o.checked;if(Array.isArray(i)){var s=null,l=t._i(i,s);o.checked?l<0&&t.$set(t.modifiedHotel,"enabled",i.concat([s])):l>-1&&t.$set(t.modifiedHotel,"enabled",i.slice(0,l).concat(i.slice(l+1)))}else t.$set(t.modifiedHotel,"enabled",a)}}}),i("label",{staticClass:"form-check-label",attrs:{for:"modifiedHotelModalIsLaunch"}},[t._v("是否啟用")])])]),i("div",{staticClass:"col-12"},[i("div",{staticClass:"form-row"},[i("div",{staticClass:"form-group col-4"},[i("validation-provider",{attrs:{rules:"required"},scopedSlots:t._u([{key:"default",fn:function(e){var o=e.errors,a=e.classes;return[i("label",{attrs:{for:"modifiedHotelModalHotelAddress"}},[t._v("地址")]),i("select",{directives:[{name:"model",rawName:"v-model",value:t.modifiedHotel.options.address.city,expression:"modifiedHotel.options.address.city"}],staticClass:"form-control",class:a,attrs:{id:"modifiedHotelModalHotelAddress",name:"縣市"},on:{change:function(e){var i=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.modifiedHotel.options.address,"city",e.target.multiple?i:i[0])}}},[i("option",{attrs:{disabled:"",value:""}},[t._v("請選擇")]),i("option",{attrs:{value:"Taipei"}},[t._v("台北市")]),i("option",{attrs:{value:"Taoyuan"}},[t._v("桃園市")]),i("option",{attrs:{value:"Taichung"}},[t._v("台中市")]),i("option",{attrs:{value:"Chiayi"}},[t._v("嘉義縣")]),i("option",{attrs:{value:"Tainan"}},[t._v("台南市")]),i("option",{attrs:{value:"Kaohsiung"}},[t._v("高雄市")]),i("option",{attrs:{value:"Pingtung"}},[t._v("屏東縣")])]),i("span",{staticClass:"invalid-feedback"},[t._v(t._s(o[0]))])]}}],null,!0)})],1),i("div",{staticClass:"form-group col-8"},[i("validation-provider",{attrs:{rules:"required"},scopedSlots:t._u([{key:"default",fn:function(e){var o=e.errors,a=e.classes;return[i("label",{attrs:{for:"modifiedHotelModalHotelAddress"}},[t._v("地址")]),i("input",{directives:[{name:"model",rawName:"v-model",value:t.modifiedHotel.options.address.road,expression:"modifiedHotel.options.address.road"}],staticClass:"form-control",class:a,attrs:{type:"text",id:"modifiedHotelModalHotelAddress",name:"地址"},domProps:{value:t.modifiedHotel.options.address.road},on:{input:function(e){e.target.composing||t.$set(t.modifiedHotel.options.address,"road",e.target.value)}}}),i("span",{staticClass:"invalid-feedback"},[t._v(t._s(o[0]))])]}}],null,!0)})],1)])]),i("div",{staticClass:"col-6"},[i("div",{staticClass:"form-group"},[i("validation-provider",{attrs:{rules:"required"},scopedSlots:t._u([{key:"default",fn:function(e){var o=e.errors,a=e.classes;return[i("label",{attrs:{for:"modifiedHotelModalHotelCategory"}},[t._v("分類")]),i("input",{directives:[{name:"model",rawName:"v-model",value:t.modifiedHotel.category,expression:"modifiedHotel.category"}],staticClass:"form-control",class:a,attrs:{type:"text",id:"modifiedHotelModalHotelCategory",name:"分類"},domProps:{value:t.modifiedHotel.category},on:{input:function(e){e.target.composing||t.$set(t.modifiedHotel,"category",e.target.value)}}}),i("span",{staticClass:"invalid-feedback"},[t._v(t._s(o[0]))])]}}],null,!0)})],1)]),i("div",{staticClass:"col-6"},[i("div",{staticClass:"form-group"},[i("validation-provider",{attrs:{rules:"required"},scopedSlots:t._u([{key:"default",fn:function(e){var o=e.errors,a=e.classes;return[i("label",{attrs:{for:"modifiedHotelModalHotelUnit"}},[t._v("單位")]),i("input",{directives:[{name:"model",rawName:"v-model",value:t.modifiedHotel.unit,expression:"modifiedHotel.unit"}],staticClass:"form-control",class:a,attrs:{type:"text",id:"modifiedHotelModalHotelUnit",name:"單位"},domProps:{value:t.modifiedHotel.unit},on:{input:function(e){e.target.composing||t.$set(t.modifiedHotel,"unit",e.target.value)}}}),i("span",{staticClass:"invalid-feedback"},[t._v(t._s(o[0]))])]}}],null,!0)})],1)]),i("div",{staticClass:"col-6"},[i("div",{staticClass:"form-group"},[i("validation-provider",{attrs:{rules:"required"},scopedSlots:t._u([{key:"default",fn:function(e){var o=e.errors,a=e.classes;return[i("label",{attrs:{for:"modifiedHotelModalHotelOriginPrice"}},[t._v("雙人房原價")]),i("input",{directives:[{name:"model",rawName:"v-model",value:t.modifiedHotel.origin_price,expression:"modifiedHotel.origin_price"}],staticClass:"form-control",class:a,attrs:{type:"number",id:"modifiedHotelModalHotelOriginPrice",name:"原價"},domProps:{value:t.modifiedHotel.origin_price},on:{input:function(e){e.target.composing||t.$set(t.modifiedHotel,"origin_price",e.target.value)}}}),i("span",{staticClass:"invalid-feedback"},[t._v(t._s(o[0]))])]}}],null,!0)})],1)]),i("div",{staticClass:"col-6"},[i("div",{staticClass:"form-group"},[i("validation-provider",{attrs:{rules:"required"},scopedSlots:t._u([{key:"default",fn:function(e){var o=e.errors,a=e.classes;return[i("label",{attrs:{for:"modifiedHotelModalHotelPrice"}},[t._v("雙人房售價")]),i("input",{directives:[{name:"model",rawName:"v-model",value:t.modifiedHotel.price,expression:"modifiedHotel.price"}],staticClass:"form-control",class:a,attrs:{type:"number",id:"modifiedHotelModalHotelPrice",name:"售價"},domProps:{value:t.modifiedHotel.price},on:{input:function(e){e.target.composing||t.$set(t.modifiedHotel,"price",e.target.value)}}}),i("span",{staticClass:"invalid-feedback"},[t._v(t._s(o[0]))])]}}],null,!0)})],1)]),i("div",{staticClass:"col-6"},[i("div",{staticClass:"form-group"},[i("validation-provider",{attrs:{rules:"required"},scopedSlots:t._u([{key:"default",fn:function(e){var o=e.errors,a=e.classes;return[i("label",{attrs:{for:"modifiedHotelModalHotelTripleRoomOriginPrice"}},[t._v("三人房原價")]),i("input",{directives:[{name:"model",rawName:"v-model",value:t.modifiedHotel.options.roomPrice.tripleRoomOriginPrice,expression:"modifiedHotel.options.roomPrice.tripleRoomOriginPrice"}],staticClass:"form-control",class:a,attrs:{type:"number",id:"modifiedHotelModalHotelTripleRoomOriginPrice",name:"原價"},domProps:{value:t.modifiedHotel.options.roomPrice.tripleRoomOriginPrice},on:{input:function(e){e.target.composing||t.$set(t.modifiedHotel.options.roomPrice,"tripleRoomOriginPrice",e.target.value)}}}),i("span",{staticClass:"invalid-feedback"},[t._v(t._s(o[0]))])]}}],null,!0)})],1)]),i("div",{staticClass:"col-6"},[i("div",{staticClass:"form-group"},[i("validation-provider",{attrs:{rules:"required"},scopedSlots:t._u([{key:"default",fn:function(e){var o=e.errors,a=e.classes;return[i("label",{attrs:{for:"modifiedHotelModalHotelTripleRoomPrice"}},[t._v("三人房售價")]),i("input",{directives:[{name:"model",rawName:"v-model",value:t.modifiedHotel.options.roomPrice.tripleRoomPrice,expression:"modifiedHotel.options.roomPrice.tripleRoomPrice"}],staticClass:"form-control",class:a,attrs:{type:"number",id:"modifiedHotelModalHotelTripleRoomPrice",name:"售價"},domProps:{value:t.modifiedHotel.options.roomPrice.tripleRoomPrice},on:{input:function(e){e.target.composing||t.$set(t.modifiedHotel.options.roomPrice,"tripleRoomPrice",e.target.value)}}}),i("span",{staticClass:"invalid-feedback"},[t._v(t._s(o[0]))])]}}],null,!0)})],1)]),i("div",{staticClass:"col-6"},[i("div",{staticClass:"form-group"},[i("validation-provider",{attrs:{rules:"required"},scopedSlots:t._u([{key:"default",fn:function(e){var o=e.errors,a=e.classes;return[i("label",{attrs:{for:"modifiedHotelModalHotelQuadrupleRoomOriginPrice"}},[t._v("四人房原價")]),i("input",{directives:[{name:"model",rawName:"v-model",value:t.modifiedHotel.options.roomPrice.quadrupleRoomOriginPrice,expression:"modifiedHotel.options.roomPrice.quadrupleRoomOriginPrice"}],staticClass:"form-control",class:a,attrs:{type:"number",id:"modifiedHotelModalHotelQuadrupleRoomOriginPrice",name:"原價"},domProps:{value:t.modifiedHotel.options.roomPrice.quadrupleRoomOriginPrice},on:{input:function(e){e.target.composing||t.$set(t.modifiedHotel.options.roomPrice,"quadrupleRoomOriginPrice",e.target.value)}}}),i("span",{staticClass:"invalid-feedback"},[t._v(t._s(o[0]))])]}}],null,!0)})],1)]),i("div",{staticClass:"col-6"},[i("div",{staticClass:"form-group"},[i("validation-provider",{attrs:{rules:"required"},scopedSlots:t._u([{key:"default",fn:function(e){var o=e.errors,a=e.classes;return[i("label",{attrs:{for:"modifiedHotelModalHotelQuadrupleRoomPrice"}},[t._v("四人房售價")]),i("input",{directives:[{name:"model",rawName:"v-model",value:t.modifiedHotel.options.roomPrice.quadrupleRoomPrice,expression:"modifiedHotel.options.roomPrice.quadrupleRoomPrice"}],staticClass:"form-control",class:a,attrs:{type:"number",id:"modifiedHotelModalHotelQuadrupleRoomPrice",name:"售價"},domProps:{value:t.modifiedHotel.options.roomPrice.quadrupleRoomPrice},on:{input:function(e){e.target.composing||t.$set(t.modifiedHotel.options.roomPrice,"quadrupleRoomPrice",e.target.value)}}}),i("span",{staticClass:"invalid-feedback"},[t._v(t._s(o[0]))])]}}],null,!0)})],1)]),i("div",{staticClass:"col-6"},[i("div",{staticClass:"form-group"},[i("validation-provider",{attrs:{rules:"required"},scopedSlots:t._u([{key:"default",fn:function(e){var o=e.errors,a=e.classes;return[i("label",{attrs:{for:"modifiedHotelModalAvailableRoomCount"}},[t._v("空房數")]),i("input",{directives:[{name:"model",rawName:"v-model",value:t.modifiedHotel.options.availableRoomCount,expression:"modifiedHotel.options.availableRoomCount"}],staticClass:"form-control",class:a,attrs:{type:"number",id:"modifiedHotelModalAvailableRoomCount",name:"空房數"},domProps:{value:t.modifiedHotel.options.availableRoomCount},on:{input:function(e){e.target.composing||t.$set(t.modifiedHotel.options,"availableRoomCount",e.target.value)}}}),i("span",{staticClass:"invalid-feedback"},[t._v(t._s(o[0]))])]}}],null,!0)})],1)]),i("div",{staticClass:"col-6"},[i("div",{staticClass:"form-group"},[i("validation-provider",{attrs:{rules:"required"},scopedSlots:t._u([{key:"default",fn:function(e){var o=e.errors,a=e.classes;return[i("label",{attrs:{for:"modifiedHotelModalHotelRating"}},[t._v("評價")]),i("input",{directives:[{name:"model",rawName:"v-model",value:t.modifiedHotel.options.hotelRating,expression:"modifiedHotel.options.hotelRating"}],staticClass:"form-control",class:a,attrs:{type:"number",id:"modifiedHotelModalHotelRating",name:"評價"},domProps:{value:t.modifiedHotel.options.hotelRating},on:{input:function(e){e.target.composing||t.$set(t.modifiedHotel.options,"hotelRating",e.target.value)}}}),i("small",{staticClass:"invalid-feedback"},[t._v(t._s(o[0]))])]}}],null,!0)})],1)]),i("div",{staticClass:"col-12"},[i("hr")]),i("div",{staticClass:"col-12"},[i("h6",{staticClass:"mb-2"},[t._v("飯店設施")]),i("div",{staticClass:"form-check form-check-inline"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.modifiedHotel.options.facilities.isBreakfast,expression:"modifiedHotel.options.facilities.isBreakfast"}],staticClass:"form-check-input",attrs:{type:"checkbox",id:"breakfast",value:"breakfast"},domProps:{checked:Array.isArray(t.modifiedHotel.options.facilities.isBreakfast)?t._i(t.modifiedHotel.options.facilities.isBreakfast,"breakfast")>-1:t.modifiedHotel.options.facilities.isBreakfast},on:{change:function(e){var i=t.modifiedHotel.options.facilities.isBreakfast,o=e.target,a=!!o.checked;if(Array.isArray(i)){var s="breakfast",l=t._i(i,s);o.checked?l<0&&t.$set(t.modifiedHotel.options.facilities,"isBreakfast",i.concat([s])):l>-1&&t.$set(t.modifiedHotel.options.facilities,"isBreakfast",i.slice(0,l).concat(i.slice(l+1)))}else t.$set(t.modifiedHotel.options.facilities,"isBreakfast",a)}}}),i("label",{staticClass:"form-check-label",attrs:{for:"breakfast"}},[t._v("提供早餐")])]),i("div",{staticClass:"form-check form-check-inline"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.modifiedHotel.options.facilities.isWifi,expression:"modifiedHotel.options.facilities.isWifi"}],staticClass:"form-check-input",attrs:{type:"checkbox",id:"wifi",value:"wifi"},domProps:{checked:Array.isArray(t.modifiedHotel.options.facilities.isWifi)?t._i(t.modifiedHotel.options.facilities.isWifi,"wifi")>-1:t.modifiedHotel.options.facilities.isWifi},on:{change:function(e){var i=t.modifiedHotel.options.facilities.isWifi,o=e.target,a=!!o.checked;if(Array.isArray(i)){var s="wifi",l=t._i(i,s);o.checked?l<0&&t.$set(t.modifiedHotel.options.facilities,"isWifi",i.concat([s])):l>-1&&t.$set(t.modifiedHotel.options.facilities,"isWifi",i.slice(0,l).concat(i.slice(l+1)))}else t.$set(t.modifiedHotel.options.facilities,"isWifi",a)}}}),i("label",{staticClass:"form-check-label",attrs:{for:"wifi"}},[t._v("免費無線網路")])]),i("div",{staticClass:"form-check form-check-inline"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.modifiedHotel.options.facilities.isParking,expression:"modifiedHotel.options.facilities.isParking"}],staticClass:"form-check-input",attrs:{type:"checkbox",id:"parking",value:"parking"},domProps:{checked:Array.isArray(t.modifiedHotel.options.facilities.isParking)?t._i(t.modifiedHotel.options.facilities.isParking,"parking")>-1:t.modifiedHotel.options.facilities.isParking},on:{change:function(e){var i=t.modifiedHotel.options.facilities.isParking,o=e.target,a=!!o.checked;if(Array.isArray(i)){var s="parking",l=t._i(i,s);o.checked?l<0&&t.$set(t.modifiedHotel.options.facilities,"isParking",i.concat([s])):l>-1&&t.$set(t.modifiedHotel.options.facilities,"isParking",i.slice(0,l).concat(i.slice(l+1)))}else t.$set(t.modifiedHotel.options.facilities,"isParking",a)}}}),i("label",{staticClass:"form-check-label",attrs:{for:"parking"}},[t._v("有停車場")])]),i("div",{staticClass:"form-check form-check-inline"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.modifiedHotel.options.facilities.isSmokeBan,expression:"modifiedHotel.options.facilities.isSmokeBan"}],staticClass:"form-check-input",attrs:{type:"checkbox",id:"smokeBan",value:"smokeban"},domProps:{checked:Array.isArray(t.modifiedHotel.options.facilities.isSmokeBan)?t._i(t.modifiedHotel.options.facilities.isSmokeBan,"smokeban")>-1:t.modifiedHotel.options.facilities.isSmokeBan},on:{change:function(e){var i=t.modifiedHotel.options.facilities.isSmokeBan,o=e.target,a=!!o.checked;if(Array.isArray(i)){var s="smokeban",l=t._i(i,s);o.checked?l<0&&t.$set(t.modifiedHotel.options.facilities,"isSmokeBan",i.concat([s])):l>-1&&t.$set(t.modifiedHotel.options.facilities,"isSmokeBan",i.slice(0,l).concat(i.slice(l+1)))}else t.$set(t.modifiedHotel.options.facilities,"isSmokeBan",a)}}}),i("label",{staticClass:"form-check-label",attrs:{for:"smokeBan"}},[t._v("禁止吸菸")])]),i("div",{staticClass:"form-check form-check-inline"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.modifiedHotel.options.facilities.isPen,expression:"modifiedHotel.options.facilities.isPen"}],staticClass:"form-check-input",attrs:{type:"checkbox",id:"pet",value:"pet"},domProps:{checked:Array.isArray(t.modifiedHotel.options.facilities.isPen)?t._i(t.modifiedHotel.options.facilities.isPen,"pet")>-1:t.modifiedHotel.options.facilities.isPen},on:{change:function(e){var i=t.modifiedHotel.options.facilities.isPen,o=e.target,a=!!o.checked;if(Array.isArray(i)){var s="pet",l=t._i(i,s);o.checked?l<0&&t.$set(t.modifiedHotel.options.facilities,"isPen",i.concat([s])):l>-1&&t.$set(t.modifiedHotel.options.facilities,"isPen",i.slice(0,l).concat(i.slice(l+1)))}else t.$set(t.modifiedHotel.options.facilities,"isPen",a)}}}),i("label",{staticClass:"form-check-label",attrs:{for:"pet"}},[t._v("寵物入住")])])]),i("div",{staticClass:"col-12"},[i("hr")]),i("div",{staticClass:"col-12"},[i("div",{staticClass:"form-group"},[i("validation-provider",{attrs:{rules:"required"},scopedSlots:t._u([{key:"default",fn:function(e){var o=e.errors,a=e.classes;return[i("label",{attrs:{for:"modifiedHotelHotelContent"}},[t._v("飯店描述")]),i("textarea",{directives:[{name:"model",rawName:"v-model",value:t.modifiedHotel.content,expression:"modifiedHotel.content"}],staticClass:"form-control",class:a,attrs:{id:"modifiedHotelHotelContent",rows:"3",placeholder:"請描述飯店相關地理位置及優勢",name:"描述"},domProps:{value:t.modifiedHotel.content},on:{input:function(e){e.target.composing||t.$set(t.modifiedHotel,"content",e.target.value)}}}),i("span",{staticClass:"invalid-feedback"},[t._v(t._s(o[0]))])]}}],null,!0)})],1)]),i("div",{staticClass:"col-12"},[i("div",{staticClass:"form-group"},[i("validation-provider",{attrs:{rules:"required"},scopedSlots:t._u([{key:"default",fn:function(e){var o=e.errors,a=e.classes;return[i("label",{attrs:{for:"modifiedHotelDescription"}},[t._v("詳細說明")]),i("textarea",{directives:[{name:"model",rawName:"v-model",value:t.modifiedHotel.description,expression:"modifiedHotel.description"}],staticClass:"form-control",class:a,attrs:{id:"modifiedHotelDescription",rows:"3",placeholder:"細節補充說明",name:"詳述"},domProps:{value:t.modifiedHotel.description},on:{input:function(e){e.target.composing||t.$set(t.modifiedHotel,"description",e.target.value)}}}),i("span",{staticClass:"invalid-feedback"},[t._v(t._s(o[0]))])]}}],null,!0)})],1)])])])]),i("div",{staticClass:"text-right"},[i("button",{staticClass:"btn btn-danger",attrs:{type:"button","data-dismiss":"modal"}},[t._v("取消")]),i("button",{staticClass:"btn btn-success",attrs:{type:"submit","data-dismiss":"modal",disabled:o},on:{click:t.comfirmModifiedHotel}},[t._v("確認")])])])]}}])})],1)]),i("div",{staticClass:"modal-footer"})])])]),i("div",{staticClass:"modal fade",attrs:{id:"removeHotelModal",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true"}},[i("div",{staticClass:"modal-dialog"},[i("div",{staticClass:"modal-content"},[i("div",{staticClass:"modal-header bg-danger text-white"},[i("h5",{staticClass:"modal-title",attrs:{id:"exampleModalLabel"}},[t._v(t._s(t.modalTitle))]),t._m(1)]),i("div",{staticClass:"modal-body"},[t._v(" "+t._s(t.modalContent)+" ")]),i("div",{staticClass:"modal-footer"},[i("button",{staticClass:"btn btn-danger",attrs:{type:"button","data-dismiss":"modal"}},[t._v("取消")]),i("button",{staticClass:"btn btn-primary",attrs:{type:"button","data-dismiss":"modal"},on:{click:t.comfirmModifiedHotel}},[t._v("確認")])])])])])])},r=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[i("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[i("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])}],d=(i("4160"),i("a434"),i("159b"),{data:function(){return{modifiedHotel:{id:"",title:"",category:"",content:"",imageUrl:[],enabled:"",origin_price:"",price:"",unit:"",options:{roomPrice:{},facilities:{},address:{city:""}}},imageUrl:"",modalTitle:"",modalContent:"",type:""}},methods:{comfirmModifiedHotel:function(){switch(this.type){case"edit":var t=document.querySelector("#modifiedHotelModal").dataset.index,e=JSON.parse(JSON.stringify(this.modifiedHotel));this.$emit("comfirmmodifiedhotel",t,e,this.type);break;case"creation":var i=JSON.parse(JSON.stringify(this.modifiedHotel));this.$emit("comfirmmodifiedhotel",0,i,this.type);break;case"removal":var o=document.querySelector("#removeHotelModal").dataset.index,a=JSON.parse(JSON.stringify(this.modifiedHotel));this.$emit("comfirmmodifiedhotel",o,a,this.type);break}},showImage:function(t){this.imageUrl=t},updateImage:function(){this.modifiedHotel.imageUrl.push(this.imageUrl),this.imageUrl=""},removeImage:function(){var t=this;this.modifiedHotel.imageUrl.forEach((function(e,i){e===t.imageUrl&&(t.modifiedHotel.imageUrl.splice(i,1),t.imageUrl="")}))}},created:function(){},mounted:function(){var t=this;this.$bus.$on("createHotelData",(function(){t.modalTitle="新增飯店資訊",t.type="creation",$("#modifiedHotelModal").modal("show")})),this.$bus.$on("editHotelData",(function(e,i){t.modifiedHotel=i,t.modalTitle="編輯飯店資訊",t.type="edit",document.querySelector("#modifiedHotelModal").dataset.index=e,$("#modifiedHotelModal").modal("show")})),this.$bus.$on("removeHotelData",(function(e,i){t.modalTitle="確定刪除".concat(i.title,"?"),t.modalContent="有".concat(i.options.hotelRating,"顆星的評價喔,不再考慮嗎?"),t.type="removal",document.querySelector("#removeHotelModal").dataset.index=e,$("#removeHotelModal").modal("show")})),$("#modifiedHotelModal").on("hidden.bs.modal",(function(){t.modifiedHotel={id:"",title:"",category:"",content:"",imageUrl:[],enabled:"",origin_price:"",price:"",unit:"",options:{roomPrice:{},facilities:{},address:{city:""}}},t.imageUrl=""}))}}),n=d,c=i("2877"),m=Object(c["a"])(n,l,r,!1,null,null,null),f=m.exports,u={components:{pagination:s["a"],"backend-modal":f},data:function(){return{hotels:[],pagination:{},isLoading:!1}},methods:{getHotelData:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,i="".concat("https://course-ec-api.hexschool.io/api/").concat("c62ed506-1fb9-4a50-912d-1c0feaaff93a","/admin/ec/products");this.isLoading=!0,this.$http.get(i,{params:{page:e}}).then((function(e){t.hotels=e.data.data,t.pagination=e.data.meta.pagination,t.isLoading=!1})).catch((function(e){t.isLoading=!1}))},editHotelData:function(t){var e=this,i="".concat("https://course-ec-api.hexschool.io/api/").concat("c62ed506-1fb9-4a50-912d-1c0feaaff93a","/admin/ec/product/").concat(this.hotels[t].id);this.$http.get(i).then((function(i){e.$bus.$emit("editHotelData",t,i.data.data)})).catch((function(t){}))},createHotelData:function(){console.log(this.$bus),this.$bus.$emit("createHotelData")},removeHotelData:function(t){var e=JSON.parse(JSON.stringify(this.hotels[t]));this.$bus.$emit("removeHotelData",t,e)},comfirmModifiedHotel:function(t,e,i){var o=this;switch(i){case"edit":var a="".concat("https://course-ec-api.hexschool.io/api/").concat("c62ed506-1fb9-4a50-912d-1c0feaaff93a","/admin/ec/product/").concat(this.hotels[t].id);this.$http.patch(a,e).then((function(t){o.getHotelData(s["a"].current_page)})).catch((function(t){}));break;case"creation":var l="".concat("https://course-ec-api.hexschool.io/api/").concat("c62ed506-1fb9-4a50-912d-1c0feaaff93a","/admin/ec/product");delete e.id,this.$http.post(l,e).then((function(t){o.getHotelData(s["a"].current_page)})).catch((function(t){console.log(t)}));break;case"removal":var r="".concat("https://course-ec-api.hexschool.io/api/").concat("c62ed506-1fb9-4a50-912d-1c0feaaff93a","/admin/ec/product/").concat(this.hotels[t].id);this.$http.delete(r).then((function(t){o.getHotelData(s["a"].current_page)})).catch((function(t){}));break}}},created:function(){this.getHotelData()}},p=u,v=Object(c["a"])(p,o,a,!1,null,null,null);e["default"]=v.exports},8418:function(t,e,i){"use strict";var o=i("c04e"),a=i("9bf2"),s=i("5c6c");t.exports=function(t,e,i){var l=o(e);l in t?a.f(t,l,s(0,i)):t[l]=i}},"99af":function(t,e,i){"use strict";var o=i("23e7"),a=i("d039"),s=i("e8b5"),l=i("861d"),r=i("7b0b"),d=i("50c4"),n=i("8418"),c=i("65f0"),m=i("1dde"),f=i("b622"),u=i("2d00"),p=f("isConcatSpreadable"),v=9007199254740991,g="Maximum allowed index exceeded",h=u>=51||!a((function(){var t=[];return t[p]=!1,t.concat()[0]!==t})),H=m("concat"),b=function(t){if(!l(t))return!1;var e=t[p];return void 0!==e?!!e:s(t)},_=!h||!H;o({target:"Array",proto:!0,forced:_},{concat:function(t){var e,i,o,a,s,l=r(this),m=c(l,0),f=0;for(e=-1,o=arguments.length;e<o;e++)if(s=-1===e?l:arguments[e],b(s)){if(a=d(s.length),f+a>v)throw TypeError(g);for(i=0;i<a;i++,f++)i in s&&n(m,f,s[i])}else{if(f>=v)throw TypeError(g);n(m,f++,s)}return m.length=f,m}})},a434:function(t,e,i){"use strict";var o=i("23e7"),a=i("23cb"),s=i("a691"),l=i("50c4"),r=i("7b0b"),d=i("65f0"),n=i("8418"),c=i("1dde"),m=i("ae40"),f=c("splice"),u=m("splice",{ACCESSORS:!0,0:0,1:2}),p=Math.max,v=Math.min,g=9007199254740991,h="Maximum allowed length exceeded";o({target:"Array",proto:!0,forced:!f||!u},{splice:function(t,e){var i,o,c,m,f,u,H=r(this),b=l(H.length),_=a(t,b),C=arguments.length;if(0===C?i=o=0:1===C?(i=0,o=b-_):(i=C-2,o=v(p(s(e),0),b-_)),b+i-o>g)throw TypeError(h);for(c=d(H,o),m=0;m<o;m++)f=_+m,f in H&&n(c,m,H[f]);if(c.length=o,i<o){for(m=_;m<b-o;m++)f=m+o,u=m+i,f in H?H[u]=H[f]:delete H[u];for(m=b;m>b-o+i;m--)delete H[m-1]}else if(i>o)for(m=b-o;m>_;m--)f=m+o-1,u=m+i-1,f in H?H[u]=H[f]:delete H[u];for(m=0;m<i;m++)H[m+_]=arguments[m+2];return H.length=b-o+i,c}})}}]);
//# sourceMappingURL=chunk-962624dc.e3c24a0d.js.map