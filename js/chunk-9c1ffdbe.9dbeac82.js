(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-9c1ffdbe"],{"7e8a":function(t,s,e){"use strict";e.r(s);var a=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",[e("loading",{attrs:{active:t.isLoading},on:{"update:active":function(s){t.isLoading=s}}},[e("font-awesome-icon",{staticClass:"h1 text-primary ld ld-bounce",attrs:{icon:["fas","home"]}})],1),e("div",{staticClass:"container"},[t._m(0),e("div",{staticClass:"row flex-column align-items-center mb-3 mb-md-5"},[e("div",{staticClass:"col-lg-6 col-md-8"},[e("section",{staticClass:"border p-3"},[e("h3",{staticClass:"h4 h3-md mb-3"},[t._v("旅館訂單資訊")]),e("table",{staticClass:"w-100 h6 h5-md text-left"},[e("tbody",[e("tr",{staticClass:"border-top border-muted"},[e("th",{staticStyle:{width:"180px"}},[t._v("訂單編號")]),e("td",{staticClass:"py-3",staticStyle:{"word-break":"break-all"}},[t._v(t._s(t.order.id))])]),e("tr",{staticClass:"border-top border-muted"},[e("th",{staticClass:"py-3"},[t._v("訂單成立時間")]),e("td",[t._v(t._s(t.order.created.datetime))])]),e("tr",{staticClass:"border-top border-muted"},[e("th",{staticClass:"py-3"},[t._v("付款狀態")]),e("td",[t.order.paid?e("span",{staticClass:"text-success"},[e("font-awesome-icon",{staticClass:"text-success mr-2",attrs:{icon:["fas","check-circle"]}}),t._v("已付款")],1):e("span",{staticClass:"text-muted"},[t._v("未付款")])])]),e("tr",{staticClass:"border-top border-muted"},[e("th",{staticClass:"py-3"},[t._v("旅館項目")]),e("td",t._l(t.order.products,(function(s){return e("div",{key:s.product.title},[t._v(" "+t._s(s.product.title)+" : "+t._s(t.computedRoomCount(s.quantity))+t._s(s.product.unit)+" ")])})),0)]),e("tr",[e("th",{staticClass:"py-3"},[t._v("總計:")]),e("td",{staticClass:"text-right h5 h4-md"},[t._v("TWD "),e("span",{staticClass:"text-success"},[t._v(t._s(t._f("moneyFilter")(t.amount)))])])])])]),e("button",{staticClass:"btn btn-danger w-100 mt-3",attrs:{type:"button"},on:{click:t.checkout}},[t._v("前往前帳")])])]),e("div",{staticClass:"col-lg-6 col-md-8 text-left mt-5"},[e("section",{staticClass:"p-3 border"},[e("h3",{staticClass:"h4 h3-md mb-3"},[t._v("顧客資訊")]),e("table",{staticClass:"w-100 h6 h5-md text-left"},[e("tbody",[e("tr",{staticClass:"border-top border-muted"},[e("th",{staticClass:"py-3",staticStyle:{width:"180px"}},[t._v("姓名")]),e("td",{staticStyle:{"word-break":"break-all"}},[t._v(t._s(t.order.user.name))])]),e("tr",{staticClass:"border-top border-muted"},[e("th",{staticClass:"py-3"},[t._v("信箱帳號")]),e("td",[t._v(t._s(t.order.user.email))])]),e("tr",{staticClass:"border-top border-muted"},[e("th",{staticClass:"py-3"},[t._v("電話")]),e("td",[t._v(t._s(t.order.user.tel))])]),e("tr",{staticClass:"border-top border-muted"},[e("th",{staticClass:"py-3"},[t._v("付款方式")]),e("td",[t._v(t._s(t.order.payment))])]),e("tr",{staticClass:"border-top border-muted"},[e("th",{staticClass:"py-3"},[t._v("留言")]),e("td",[t._v(t._s(t.order.message))])])])])])])])])],1)},r=[function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"row text-md-center text-left my-3 my-md-5"},[e("div",{staticClass:"col-md-4"},[e("div",{staticClass:"alert alert-dark alert-rounded",attrs:{role:"alert"}},[e("span",{staticClass:"circle mr-2 text-center"},[t._v("1")]),t._v("選擇旅館 ")])]),e("div",{staticClass:"col-md-4"},[e("div",{staticClass:"alert alert-success alert-rounded order-comfirmation",attrs:{role:"alert"}},[e("span",{staticClass:"circle mr-2 text-center"},[t._v("2")]),t._v("確認訂單並付款 ")])]),e("div",{staticClass:"col-md-4"},[e("div",{staticClass:"alert alert-muted alert-rounded finished-reservation",attrs:{role:"alert"}},[e("span",{staticClass:"circle mr-2 text-center"},[t._v("3")]),t._v("完成訂房 ")])])])}],o=(e("99af"),e("f467")),c={data:function(){return{order:{user:{},created:{}},orderId:"",amount:"",isLoading:!1}},methods:{getRouterParam:function(){this.orderId=this.$route.params.orderId,this.amount=this.$route.params.amount},getOrder:function(){var t=this,s="".concat("https://course-ec-api.hexschool.io/api/").concat("c62ed506-1fb9-4a50-912d-1c0feaaff93a","/ec/orders/").concat(this.orderId);this.$http.get(s).then((function(s){t.order=s.data.data})).catch((function(s){t.$bus.$emit("pushmessage","warning","連線錯誤 : ".concat(s))}))},computedRoomCount:function(t){var s=o["a"].decode(t);return s.total},checkout:function(){var t=this;this.isLoading=!0;var s="".concat("https://course-ec-api.hexschool.io/api/").concat("c62ed506-1fb9-4a50-912d-1c0feaaff93a","/ec/orders/").concat(this.orderId,"/paying");this.$http.post(s).then((function(s){t.isLoading=!1,t.getOrder(),t.$bus.$emit("updateCart"),t.$router.push("/finished_customer_order")})).catch((function(s){t.$bus.$emit("pushmessage","warning","連線錯誤 : ".concat(s))}))}},created:function(){this.getRouterParam(),this.getOrder()}},i=c,d=e("2877"),n=Object(d["a"])(i,a,r,!1,null,null,null);s["default"]=n.exports},f467:function(t,s,e){"use strict";s["a"]={encode:function(t){return t.doubleRoomCount|t.tripleRoomCount<<5|t.quadrupleRoomCount<<10},decode:function(t){var s=31,e=992,a=31744,r={};return r.doubleRoomCount=t&s,r.tripleRoomCount=(t&e)>>5,r.quadrupleRoomCount=(t&a)>>10,r.total=r.doubleRoomCount+r.tripleRoomCount+r.quadrupleRoomCount,r}}}}]);
//# sourceMappingURL=chunk-9c1ffdbe.9dbeac82.js.map